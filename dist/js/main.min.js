function updatePlayer(a,b,c){playTrack(a),notifyAlbumChange(b,c),updatePlayerUI(b,c)}function updatePlayerUI(a,b){playerAlbumCover.css("background","url("+b+")"),playerAlbumCover.css("background-size","cover"),playerAlbumTitle.html(""+a)}function playTrack(a){sourceController.src=a,audioPlayer.load(),togglePlay()}function togglePlay(){audioPlayer.paused===!0?(audioPlayer.play(),playToggle.addClass("btn__play--enabled"),startBarProgressInterval()):(audioPlayer.pause(),playToggle.removeClass("btn__play--enabled"),clearBarProgressInterval())}function toggleShuffle(a,b){var c=a[Math.floor(Math.random()*b+1)];updatePlayer(c.getAttribute("data-path"),c.getAttribute("data-title"),c.getAttribute("data-cover")),audioPlayer.play(),playToggle.addClass("btn__play--enabled")}function toggleRepeat(){audioPlayer.loop===!0?(audioPlayer.loop=!1,repeatToggle.toggleClass("btn__loop--enabled")):(audioPlayer.loop=!0,repeatToggle.toggleClass("btn__loop--enabled"))}function toggleUserMenu(){userMenu.toggleClass("menu--hide"),userMenuArrow.toggleClass("arrow--hide")}function startBarProgressInterval(){trackProgressInterval=setInterval(function(){barPercentage=audioPlayer.currentTime/audioPlayer.duration*100;var a=$(".player__progress__bar"),b=$(".player__progress__circle"),c=$(".song__seconds");a.css("width",""+barPercentage+"%"),b.css("left",""+barPercentage+"%"),c.html(""+audioPlayer.currentTime.toFixed(0))},20)}function clearBarProgressInterval(){clearInterval(trackProgressInterval)}function notifyAlbumChange(a,b){window.Notification&&"denied"!==Notification.permission&&Notification.requestPermission(function(c){new Notification(a,{body:"Album changed to "+a,icon:b})})}$(document).ready(function(){document.getElementById("audioPlayer"),document.getElementById("sourceController");playerAlbumCover=$(".player__album__cover"),playerAlbumTitle=$(".player__album__title");var a=$(".library__albums"),b=a.length,c=$(".header__user");userMenuArrow=$(".user__menu__arrow"),userMenu=$(".user__menu"),playToggle=$(".player__btn__play"),shuffleToggle=$(".player__btn__shuffle"),repeatToggle=$(".player__btn__loop"),c.click(function(){toggleUserMenu(userMenuArrow,userMenu)}),playToggle.click(function(){togglePlay()}),shuffleToggle.click(function(){toggleShuffle(a,b)}),repeatToggle.click(function(){toggleRepeat()}),a.click(function(){updatePlayer(this.getAttribute("data-path"),this.getAttribute("data-title"),this.getAttribute("data-cover"))})});